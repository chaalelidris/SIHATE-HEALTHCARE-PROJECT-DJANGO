{%extends 'profiles/manager/index.html'%}
{% load static %}


{% block title%} Manager dashboard {% endblock title %}


<!-- PAGE CONTENT! -->
{% block content %}
{% include 'profiles/manager/includes/welcome_toast.html' %}


<div class="row mt-5">

  <a href="{% url 'manager_doctors_view' %}" class="col-12 col-sm-6 col-xl-4 mb-4" style="cursor: pointer;">
    <div class="card border-0 bg-yellow-200 shadow">
      <div class="card-body">
        <div class="row d-block d-xl-flex align-items-center">
          <div class="col-12 col-xl-7 px-xl-0">
            <div class="d-none d-sm-block">
              <h2 class="h6 text-gray-600 mb-0">Doctors</h2>
              <h3 class="fw-extrabold mb-2">{{doctors_count}}</h3>
            </div>
            <div class="small d-flex mt-1">
              <div>Doctors registred</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </a>

  <a href="{% url 'manager_patients_view' %}" class="col-12 col-sm-6 col-xl-4 mb-4" style="cursor: pointer;">
    <div class="card border-0 bg-indigo shadow">
      <div class="card-body">
        <div class="row d-block d-xl-flex align-items-center">
          <div class="col-12 col-xl-7 px-xl-0">
            <div class="d-none d-sm-block">
              <h2 class="h6 text-gray-200 mb-0">Patients</h2>
              <h3 class="fw-extrabold mb-2 text-white">{{patients_count}}</h3>
            </div>
            <div class="small d-flex mt-1">
              <div class="text-warning">Patients registred</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </a>

  <a href="{% url 'manager_appointments_view' %}" class="col-12 col-sm-6 col-xl-4 mb-4" style="cursor: pointer;">
    <div class="card border-0 bg-success shadow">
      <div class="card-body">
        <div class="row d-block d-xl-flex align-items-center">
          <div class="col-12 col-xl-7 px-xl-0">
            <div class="d-none d-sm-block">
              <h2 class="h6 text-white mb-0">Appointments</h2>
              <h3 class="fw-extrabold text-white mb-2">{{appointments_count}}</h3>
            </div>
            <div class="small d-flex mt-1">
              <div>Appointments shuduled</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </a>


</div>

<!-- TABLE PATIENTS -->
<div class="row">
  <div class="col-12">
    <div class="row">
      <div class="col-12 mb-4">
        <div class="card border-0 shadow">
          <div class="card-header">
            <div class="row align-items-center">
              <div class="col">
                <h2 class="fs-5 fw-bold mb-0">Recent patients</h2>
              </div>
              <div class="col text-end">
                <a href="{% url 'manager_patients_view' %}" class="btn btn-sm btn-primary">See all</a>
              </div>
            </div>
          </div>
          <div class="table-responsive">
            <table class="table align-items-center table-flush">
              <thead class="thead-light">
                <tr>
                  <th class="border-bottom" scope="col">Full name</th>
                  <th class="border-bottom" scope="col">picture</th>
                  <th class="border-bottom" scope="col">address</th>
                  <th class="border-bottom" scope="col">mobile</th>
                  <th class="border-bottom" scope="col">Symptoms</th>
                  <th class="border-bottom" scope="col">admit_date</th>
                </tr>
              </thead>
              <tbody>
                {% for patient in patients %}
                <tr>
                  <th class="text-gray-900" scope="row">{{patient.get_name}}</th>
                  <th class="text-gray-900" scope="row">
                    <img src="{{patient.get_profile_pic}}" alt="patient profile picture" width="60">
                  </th>
                  <th class="text-gray-900" scope="row">{{patient.address}}</th>
                  <th class="text-gray-900" scope="row">{{patient.mobile}}</th>
                  <th class="text-gray-900" scope="row">{{patient.symptoms}}</th>
                  <th class="text-gray-900" scope="row">{{patient.admit_date}}</th>
                </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>



<!-- TABLE DOCTORS -->
<div class="row">
  <div class="col-12">
    <div class="row">
      <div class="col-12 mb-4">
        <div class="card border-0 shadow">
          <div class="card-header">
            <div class="row align-items-center">
              <div class="col">
                <h2 class="fs-5 fw-bold mb-0">Recent doctors</h2>
              </div>
              <div class="col text-end">
                <a href="{% url 'manager_doctors_view' %}" class="btn btn-sm btn-primary">See all</a>
              </div>
            </div>
          </div>
          <div class="table-responsive">
            <table class="table align-items-center table-flush">
              <thead class="thead-light">
                <tr>
                  <th class="border-bottom" scope="col">Full name</th>
                  <th class="border-bottom" scope="col">picture</th>
                  <th class="border-bottom" scope="col">address</th>
                  <th class="border-bottom" scope="col">mobile</th>
                  <th class="border-bottom" scope="col">Department</th>
                  <th class="border-bottom" scope="col">Admit date</th>
                </tr>
              </thead>
              <tbody>
                {% for doctor in doctors %}
                <tr>
                  <th class="text-gray-900" scope="row">{{doctor.get_name}}</th>
                  <th class="text-gray-900" scope="row">
                    <img src="{{doctor.get_profile_pic}}" alt="doctor profile picture" width="60">
                  </th>
                  <th class="text-gray-900" scope="row">{{doctor.address}}</th>
                  <th class="text-gray-900" scope="row">{{doctor.mobile}}</th>
                  <th class="text-gray-900" scope="row">{{doctor.department}}</th>
                  <th class="text-gray-900" scope="row">{{doctor.admit_date}}</th>
                </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

{%endblock content%}